graph TD
    %% Livello attuale 2025: sistemi VMC/AC/riscaldamento operativi con automazioni HA standard
    %% Livello evolutivo 2100: orchestratore AI, smart-skin e batteria PCM completamente integrate
    Orchestrator["AI Orchestrator 2100\n(Q-Edge Mesh)\n(fase futura)"]
    VMC["VMC Iperspettrale\n(ricambio + scrubber COâ‚‚)"]
    AC_G["Clima Giorno\n(HVR + radiant ceiling)"]
    AC_N["Clima Notte\n(sonno circadiano)"]
    Pav["Reti termoattive\n(pavimento + pareti)"]
    Scal["Scaldasalviette\nnanotubolare"]
    Facade["Facade Smart-Skin\n(pannelli fototermici)\n"]
    Storage["Batteria termica\nPCM + serbatoi fasi"]

    Orchestrator -. roadmap .-> VMC
    Orchestrator -. roadmap .-> AC_G
    Orchestrator -. roadmap .-> AC_N
    Orchestrator -. roadmap .-> Pav
    Orchestrator -. roadmap .-> Facade
    Orchestrator -. roadmap .-> Storage

    subgraph Giorno
        G_S["Sensori T/UR/COâ‚‚/PM\n+ fotoni solari"]
        G_M["Mandate VMC\nsoniche modulanti"]
        G_R["Riprese VMC\n+ scrubber VOC"]
        G_T["Nodo termoattivo\nzona giorno"]
        Facade --> G_S
        VMC --> G_M
        VMC --> G_R
        Pav --> G_T
        AC_G --> Giorno
        Storage --> Giorno
    end

    subgraph Notte
        N1["Notte1: bio-sensore\nsonno + termoattivo"]
        N2["Notte2: bio-sensore\n+ mandata mirata"]
        N3["Notte3: bio-sensore\n+ mandata mirata"]
        Bagno["Bagno: sensori vapore\n+ specchio anti-condensa"]
        Lav["Lavanderia: ricircolo\nionico"]
        AC_N --> Notte
        Pav --> N1
        Pav --> N2
        Pav --> N3
        Scal --> Bagno
        VMC --> N1
        VMC --> N2
        VMC --> N3
        Storage --> Notte
        Bagno --> VMC
        Lav --> VMC
    end
