# ========================================
# Controllo Riscaldamento 2100 — Casa Silea Orbital
# Logica Passivhaus++ autonoma (no conflitti)
# ========================================
# Livello operativo 2025 (impianto attuale):
# - Sensori: termostati stanza (giorno, notte, bagno, lavanderia) + esterno.
# - Attuatori: collettore riscaldamento a pavimento con pompe/elettrovalvole ON/OFF,
#   eventuale caldaia/PDC controllata da `climate` principale.
# - Helper minimi: `input_number.temp_target_giorno`, `input_number.temp_target_notte`,
#   `input_boolean.heating_manual_override`, `input_boolean.boost_bagno`.
# - Logica immediata: hysteresis 0.3–0.5°C su zone, programmazione oraria e
#   notifica quando il target non è raggiunto entro 45 min.
# - Dashboard: card con temperature, stato pompe, override manuali e grafico consumi.
# - Obiettivo breve termine: comfort stabile con riduzione cicli ON/OFF e logbook
#   degli interventi manuali.
#
# Obiettivo 2100:
# Utilizzare l’involucro come accumulo termico bassa/media entalpia, caricando
# l’edificio e la batteria PCM nelle ore di surplus energetico, mantenendo comfort
# adattivo e riducendo runtime. Include raccomandazioni evolutive target.

# Sistema:
# - Reti termoattive integrate (pavimento + pareti + soffitto radiante)
# - Ogni zona gestita da nodo termo-neurale con riduzione circadiana automatica
# - Switch generale riscaldamento: switch.thermal_core_master
# - Flussimetri auto-bilancianti + monitoraggio portata in tempo reale
# - Batteria termica PCM collegata a geoscambio modulare

# Temperatura target:
# - Comfort base 21.5°C inverno, 20.5°C mezze stagioni
# - Modificabile via input_number.temp_target_risc_2100 e profili persona
# - Sensori disponibili: giorno, notte1/2/3, bagno, lavanderia, esterna, PCM_core

# Fasce ottimali di attivazione (energia rinnovabile):
# - Finestre PV/geo: 09:30 → 16:30 (dinamiche) + slot serale se surplus idrogeno
# - Regolabile via input_datetime + algoritmo previsioni Meteo2100 e rete energia
# - Obiettivo: pre-caricare involucro prima di ondate fredde o picchi domanda

# Logica attivazione:
# - Attiva se almeno una stanza < target - tolleranza adattiva (0.4–0.8°C)
# - Attiva se fascia utile oppure se IA prevede perdita >1.5°C nelle 6h successive
# - Considera temperatura esterna, vento e indice dispersione facciata (ThermalLeak)
# - Se previste giornate soleggiate con guadagni > 4 kWh, ritarda accensione
# - Se UR interna > 65%, limita potenza e privilegia deumidifica
# - Se occupancy bassa, sposta energia su PCM (modalità “preload”)

# Logica avanzata 2100:
# - Analisi curva decadimento termico per ogni zona (machine learning autoregressivo)
# - Predizione dinamica °C persi/h e adattamento soglie
# - Automazione flussi PV/geo/surplus idrogeno (attiva solo in surplus energetico)
# - Bilanciamento flussi termici tramite valvole proporzionali auto-regolate
# - Feedback IA su comfort personale e raccomandazioni target personalizzate

# Espandibile:
# - Sensori biometria sonno per modulare zone notte
# - Integrazione con scambiatori facciata per recupero calore esausto
# - Logging giornaliero + analitiche IA per ottimizzare curva di carico

# Consigliare miglioramenti e target temperatura in Lovelace tramite card “Coach”

# Roadmap 2025 → 2100
# 1. Stabilizzare le curve orarie e i delta ON/OFF con i sensori esistenti, aggiungendo
#    template di potenza termica stimata e consumo caldaia/PDC.
# 2. Integrare previsioni meteo (Open-Meteo/Met.no) e input energia (PV, tariffa) per
#    gestire pre-carica involucro e fasce di risparmio.
# 3. Aggiungere controllo modulante delle valvole/flussimetri (se hardware supporta)
#    e batteria PCM con logica di priorità.
# 4. Collegare orchestratore AI / gemello digitale per ottimizzare curve predittive e
#    personalizzare comfort circadiano.
